{"mappings":";;;;;;;;;;;;AAAA;;;;;ACAA;;;ACAA;;ACCA;AAEA,MAAMqC,gCAAU,GAAG,EAAE,AAArB;AAEe,kDAAsBpB,MAAM,EAAE;IAC3C,MAAM,CAACqB,SAAS,EAAEC,YAAY,CAAC,GAAGpC,CAAAA,GAAAA,qBAAQ,CAAA,CAAC,EAAE,CAAC,AAA9C;IACA,MAAM,CAACqC,MAAM,EAAEC,SAAS,CAAC,GAAGtC,CAAAA,GAAAA,qBAAQ,CAAA,CAAC,UAAU,CAAC,AAAhD;IAEAiC,CAAAA,GAAAA,0BAAa,CAAA,CAAC,4BAA4B,GAAGM,MAAM,CAACC,IAAI,CAACN,gCAAU,CAAC,CAACO,MAAM,CAAC,CAA5ER;IAEA1B,CAAAA,GAAAA,sBAAS,CAAA,CAAC,IAAM;QACd,IAAI,CAACO,MAAM,EACTsB,YAAY,CAAC,EAAE,CAAC,CAAhBA;aACK,IAAIF,gCAAU,CAACpB,MAAM,CAAC,EAC3BsB,YAAY,CAACF,gCAAU,CAACpB,MAAM,CAAC,CAAC,CAAhCsB;aAEAM,gBAAgB,EAAE,CAAlBA;QAGF,eAAeA,gBAAgB,GAAG;YAChCN,YAAY,CAAC,EAAE,CAAC,CAAhBA;YACAE,SAAS,CAAC,SAAS,CAAC,CAApBA;YAEA,MAAMf,GAAG,GAAG,MAAMC,KAAK,CACpB,CAAA,0CAAA,EAA4CV,MAAO,CAAA,CAAC,CACtD,AAFD;YAGA,MAAMW,IAAI,GAAG,MAAMF,GAAG,CAACE,IAAI,EAAE,AAA7B;YACAS,gCAAU,CAACpB,MAAM,CAAC,GAAGW,IAAI,CAACP,MAAM,IAAI,EAAE,CAAtCgB;YACAE,YAAY,CAACF,gCAAU,CAACpB,MAAM,CAAC,CAAC,CAAhCsB;YACAE,SAAS,CAAC,QAAQ,CAAC,CAAnBA;SACF;KACD,EAAE;QAACxB,MAAM;KAAC,CAAC,CAAC,CAAC,4CAAd;IAEA,OAAO;QAACqB,SAAS;QAAEE,MAAM;KAAC,CAA1B;CACF;;;ACnCA;ACAA;;AAEA,MAAMM,yBAAG,GAAG,CAAC,QAAEE,IAAI,CAAA,UAAE/B,MAAM,CAAA,SAAEE,KAAK,CAAA,UAAE+B,MAAM,CAAA,YAAEnC,QAAQ,CAAA,MAAEkC,EAAAA,CAAAA,EAAI,GAAK;IAC7D,IAAII,IAAI,GAAG,8CAA8C,AAAzD;IAEA,IAAIH,MAAM,CAACN,MAAM,EACfS,IAAI,GAAGH,MAAM,CAAC,CAAC,CAAC,CAAhBG;IAGF,qBACE,iCAAC,CAAA,GAAA,0BAAI,CAAA;QAAC,EAAE,EAAG,CAAA,SAAA,EAAWJ,EAAG,CAAA,CAAC;QAAE,SAAS,EAAC,KAAK;;0BACzC,gCAAC,KAAG;gBAAC,SAAS,EAAC,iBAAiB;0BAC9B,cAAA,gCAAC,KAAG;oBAAC,GAAG,EAAEI,IAAI;oBAAE,GAAG,EAAEL,IAAI;kBAAI;cACzB;0BAEN,iCAAC,KAAG;gBAAC,SAAS,EAAC,MAAM;;kCACnB,gCAAC,IAAE;kCAAEA,IAAI;sBAAM;kCACf,iCAAC,IAAE;;4BACA/B,MAAM;4BAAC,KAAG;4BAACE,KAAK;4BAAC,KAAG;4BAACJ,QAAQ;;sBAC3B;;cACD;;MACD,CAAX;CAEC,AAAD;IAEA,2BAAA;AACA,4CAAA;AACA,iDAAA;AACA,mDAAA;AACA,kDAAA;AACA,QAAA;AACA,KAAA;AAEA,wCAAA,GAAe+B,yBAAG;;;AD/BlB,MAAMjC,6BAAO,GAAG,CAAC,QAAEU,IAAAA,CAAAA,EAAM,GAAK;IAC5B,qBACE,gCAAC,KAAG;kBACD,CAACA,IAAI,CAACqB,MAAM,iBACX,gCAAC,IAAE;sBAAC,eAAa;UAAK,GAEtBrB,IAAI,CAACU,GAAG,CAAEc,CAAAA,GAAG,iBACX,gCAAC,CAAA,GAAA,wCAAG,CAAA;gBACF,IAAI,EAAEA,GAAG,CAACC,IAAI;gBACd,MAAM,EAAED,GAAG,CAAC9B,MAAM;gBAClB,KAAK,EAAE8B,GAAG,CAAC5B,KAAK;gBAEhB,MAAM,EAAE4B,GAAG,CAACG,MAAM;gBAClB,QAAQ,EAAG,CAAA,EAAEH,GAAG,CAACI,IAAK,CAAA,EAAA,EAAIJ,GAAG,CAACK,KAAM,CAAA,CAAC;gBACrC,EAAE,EAAEL,GAAG,CAACE,EAAE;eAHLF,GAAG,CAACE,EAAE,CAKd,CACF;MACG,CAAV;CAEC,AAAD;IAEA,wCAAA,GAAepC,6BAAO;;;AEvBtB;AAEA,wFAAA;AAEA,MAAMN,kCAAY,iBAAG+C,CAAAA,GAAAA,0BAAa,CAAA,CAAC;IAAC,OAAO;IAAE,IAAM,EAAE;CAAC,CAAC,AAAvD;IAEA,wCAAA,GAAe/C,kCAAY;;;AJF3B,MAAMO,6BAAO,GAAG;IAAC,MAAM;IAAE,KAAK;IAAE,KAAK;IAAE,QAAQ;IAAE,SAAS;CAAC,AAA3D;AAEA,MAAMT,kCAAY,GAAG,IAAM;IACzB,MAAM,CAACU,QAAQ,EAAEC,WAAW,CAAC,GAAGb,CAAAA,GAAAA,qBAAQ,CAAA,CAAC,EAAE,CAAC,AAA5C;IACA,MAAM,CAACc,MAAM,EAAEC,SAAS,CAAC,GAAGf,CAAAA,GAAAA,qBAAQ,CAAA,CAAC,EAAE,CAAC,AAAxC;IACA,MAAM,CAACgB,KAAK,EAAEC,QAAQ,CAAC,GAAGjB,CAAAA,GAAAA,qBAAQ,CAAA,CAAC,EAAE,CAAC,AAAtC;IACA,MAAM,CAACkB,MAAM,CAAC,GAAGT,CAAAA,GAAAA,wCAAY,CAAA,CAACK,MAAM,CAAC,AAAC,EAAC,2EAAvC;IACA,MAAM,CAACR,KAAK,EAAEa,QAAQ,CAAC,GAAGX,CAAAA,GAAAA,uBAAU,CAAA,CAACJ,CAAAA,GAAAA,wCAAY,CAAA,CAAC,AAAlD;IAEA,MAAM,CAACgB,IAAI,EAAEC,OAAO,CAAC,GAAGrB,CAAAA,GAAAA,qBAAQ,CAAA,CAAC,EAAE,CAAC,AAApC;IAEAO,CAAAA,GAAAA,sBAAS,CAAA,CAAC,IAAM;QACde,WAAW,EAAE,CAAbA;KACD,EAAE,EAAE,CAAC,CAAC,CAAC,iDAAR;IAEA,gGAAA;IAEA,eAAeA,WAAW,GAAG;QAC3B,MAAMC,GAAG,GAAG,MAAMC,KAAK,CACpB,CAAA,wCAAA,EAA0CV,MAAO,CAAA,UAAA,EAAYF,QAAS,CAAA,OAAA,EAASI,KAAM,CAAA,CAAC,CACxF,AAFD;QAGA,MAAMS,IAAI,GAAG,MAAMF,GAAG,CAACE,IAAI,EAAE,AAA7B;QACAJ,OAAO,CAACI,IAAI,CAACL,IAAI,CAAC,CAAlBC;KACF;IAEA,qBACE,iCAAC,KAAG;QAAC,SAAS,EAAC,eAAe;;0BAC5B,iCAAC,MAAI;gBACH,QAAQ,EAAGK,CAAAA,CAAC,GAAK;oBACfA,CAAC,CAACC,cAAc,EAAE,CAAlBD;oBACAJ,WAAW,EAAE,CAAbA;iBACD;;kCAED,iCAAC,OAAK;wBAAC,OAAO,EAAC,UAAU;;4BAAC,UAExB;0CAAA,gCAAC,OAAK;gCACJ,EAAE,EAAC,UAAU;gCACb,KAAK,EAAEV,QAAQ;gCACf,WAAW,EAAC,UAAU;gCACtB,QAAQ,EAAGc,CAAAA,CAAC,GAAKb,WAAW,CAACa,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC;8BAC5C;;sBACI;kCACR,iCAAC,OAAK;wBAAC,OAAO,EAAC,QAAQ;;4BAAC,QAEtB;0CAAA,iCAAC,QAAM;gCACL,EAAE,EAAC,QAAQ;gCACX,KAAK,EAAEf,MAAM;gCACb,QAAQ,EAAGY,CAAAA,CAAC,GAAK;oCACfX,SAAS,CAACW,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAzBd;oCACAE,QAAQ,CAAC,EAAE,CAAC,CAAZA;iCACD;gCACD,MAAM,EAAGS,CAAAA,CAAC,GAAK;oCACbX,SAAS,CAACW,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAzBd;oCACAE,QAAQ,CAAC,EAAE,CAAC,CAAZA;iCACD;;kDAED,gCAAC,SAAO,KAAG;oCACVN,6BAAO,CAACmB,GAAG,CAAEhB,CAAAA,MAAM,iBAClB,gCAAC,QAAM;4CAAc,KAAK,EAAEA,MAAM;sDAC/BA,MAAM;2CADIA,MAAM,CAGpB,CAAC;;8BACK;;sBACH;kCAER,iCAAC,OAAK;wBAAC,OAAO,EAAC,OAAO;;4BAAC,OAErB;0CAAA,iCAAC,QAAM;gCACL,EAAE,EAAC,OAAO;gCACV,KAAK,EAAEE,KAAK;gCACZ,QAAQ,EAAGU,CAAAA,CAAC,GAAK;oCACfT,QAAQ,CAACS,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAxBZ;iCACD;gCACD,MAAM,EAAGS,CAAAA,CAAC,GAAK;oCACbT,QAAQ,CAACS,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC,CAAxBZ;iCACD;;kDAED,gCAAC,SAAO,KAAG;oCACVC,MAAM,CAACY,GAAG,CAAEC,CAAAA,QAAQ,iBACnB,gCAAC,QAAM;4CAAgB,KAAK,EAAEA,QAAQ;sDACnCA,QAAQ;2CADEA,QAAQ,CAGtB,CAAC;;8BACK;;sBACH;kCACR,iCAAC,OAAK;wBAAC,OAAO,EAAC,OAAO;;4BAAC,OAErB;0CAAA,iCAAC,QAAM;gCACL,KAAK,EAAEzB,KAAK;gCACZ,QAAQ,EAAGoB,CAAAA,CAAC,GAAKP,QAAQ,CAACO,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC;gCACzC,MAAM,EAAGH,CAAAA,CAAC,GAAKP,QAAQ,CAACO,CAAC,CAACE,MAAM,CAACC,KAAK,CAAC;;kDAEvC,gCAAC,QAAM;wCAAC,KAAK,EAAC,MAAM;kDAAC,MAAI;sCAAS;kDAClC,gCAAC,QAAM;wCAAC,KAAK,EAAC,UAAU;kDAAC,UAAQ;sCAAS;kDAC1C,gCAAC,QAAM;wCAAC,KAAK,EAAC,KAAK;kDAAC,KAAG;sCAAS;kDAChC,gCAAC,QAAM;wCAAC,KAAK,EAAC,QAAQ;kDAAC,QAAM;sCAAS;;8BAC/B;;sBACH;kCACR,gCAAC,QAAM;wBAAC,KAAK,EAAE;4BAAEG,eAAe,EAAE1B,KAAjB0B;yBAAwB;kCAAE,QAAM;sBAAS;;cACrD;0BAEP,gCAAC,CAAA,GAAA,wCAAO,CAAA;gBAAC,IAAI,EAAEZ,IAAI;cAAI;;MACnB,CAAV;CAEC,AAAD;IAEA,wCAAA,GAAelB,kCAAY;;;A;;;A;;A,S,qC,C,G,E,G,E,K,E;I,I,G,I,G,E,M,C,c,C,G,E,G,E;Q,K,E,K;Q,U,E,I;Q,Y,E,I;Q,Q,E,I;K,C,C;S,G,C,G,C,G,K,C;I,O,G,C;C;AM7G3B,MAAMoD,8BAAQ,SAASF,CAAAA,GAAAA,sBAAS,CAAA;IAAC,YAAA,GAAA,IAAA,CAAA;QAAA,KAAA,IAAA,IAAA,CAAA,CAAA;QAAA,qCAAA,CAAA,IAAA,EAAA,OAAA,EACvB;YACNkB,MAAM,EAAE,CAAC,CAAE,sBAAXA;SACD,CAAD,CAAA;QAAC,qCAAA,CAAA,IAAA,EAAA,kBAAA,EAMmBC,CAAAA,KAAK,GAAK;YAC5B,IAAI,CAACZ,QAAQ,CAAC;gBACZW,MAAM,EAAE,CAACC,KAAK,CAAC3C,MAAM,CAAC4C,OAAO,CAACC,KAAK,CAAE,iCAArCH;aACD,CAAC,CAAF;SACD,CAAD,CAAA;KAAC;IAEDN,MAAM,GAAG;QACP,MAAM,UAAEM,MAAAA,CAAAA,EAAQ,GAAG,IAAI,CAACrB,KAAK,AAAd;QACf,MAAM,UAAEF,MAAAA,CAAAA,EAAQ,GAAG,IAAI,CAACc,KAAK,AAAd;QAEf,qBACE,iCAAC,KAAG;YAAC,SAAS,EAAC,UAAU;;8BACvB,gCAAC,KAAG;oBAAC,GAAG,EAAEd,MAAM,CAACuB,MAAM,CAAC;oBAAE,GAAG,EAAC,QAAQ;kBAAG;8BACzC,gCAAC,KAAG;oBAAC,SAAS,EAAC,kBAAkB;8BAC9BvB,MAAM,CAACjB,GAAG,CAAC,CAAC4C,KAAK,EAAED,KAAK,GACvB,0BAAA;sCACA,gCAAC,KAAG;4BACF,OAAO,EAAE,IAAI,CAACE,gBAAgB;4BAE9B,GAAG,EAAED,KAAK;4BACV,YAAU,EAAED,KAAK;4BACjB,SAAS,EAAEA,KAAK,KAAKH,MAAM,GAAG,QAAQ,GAAG,EAAE;4BAC3C,GAAG,EAAC,kBAAkB;2BAJjBI,KAAK,CAMb,CAAC;kBACE;;UACF,CAAZ;KAEE;CACF;AAAC,qCAAA,CAtCKpB,8BAAQ,EAAA,cAAA,EAKU;IACpBP,MAAM,EAAE;QAAC,+CAA+C;KAAxDA;CACD,CAAD,CAAA;IAiCF,wCAAA,GAAeO,8BAAQ;;;A;;;A,S,qC,C,G,E,G,E,K,E;I,I,G,I,G,E,M,C,c,C,G,E,G,E;Q,K,E,K;Q,U,E,I;Q,Y,E,I;Q,Q,E,I;K,C,C;S,G,C,G,C,G,K,C;I,O,G,C;C;ACvCvB,0DAAA;AAEA,MAAMC,mCAAa,SAASH,CAAAA,GAAAA,sBAAS,CAAA;IAAC,YAAA,GAAA,IAAA,CAAA;QAAA,KAAA,IAAA,IAAA,CAAA,CAAA;QAAA,qCAAA,CAAA,IAAA,EAAA,OAAA,EAC5B;YAAEyB,QAAQ,EAAE,KAAK;YAAEC,QAAQ,EAAE,KAAVA;SAAiB,CAAD,CAAA;KAAC;IAE5C,OAAOC,wBAAwB,GAAG;QAChC,OAAO;YAAEF,QAAQ,EAAE,IAAVA;SAAgB,CAAD;KAC1B;IAEAG,iBAAiB,CAACC,KAAK,EAAEC,IAAI,EAAE;QAC7BhB,OAAO,CAACe,KAAK,CAACA,KAAK,EAAEC,IAAI,CAAC,CAA1BhB;KACF;IAEA,gDAAA;IACAiB,kBAAkB,GAAG;QACnB,IAAI,IAAI,CAAClC,KAAK,CAAC4B,QAAQ,EACrBO,UAAU,CAAC,IAAM,IAAI,CAACzB,QAAQ,CAAC;gBAAEmB,QAAQ,EAAE,IAAVA;aAAgB,CAAC,EAAE,IAAI,CAAC,CAAT;KAEpD;IAEAd,MAAM,GAAG;QACP,IAAI,IAAI,CAACf,KAAK,CAAC6B,QAAQ,EACrB,qBAAO,gCAAC,CAAA,GAAA,8BAAQ,CAAA;YAAC,EAAE,EAAC,GAAG;UAAG,CAA1B;aACK,IAAI,IAAI,CAAC7B,KAAK,CAAC4B,QAAQ,EAC5B,qBACE,iCAAC,IAAE;;gBAAC,qBAEF;8BAAA,gCAAC,CAAA,GAAA,0BAAI,CAAA;oBAAC,EAAE,EAAC,GAAG;8BAAC,YAAU;kBAAO;gBAAA,8EAEhC;;UAAK,CAAb;QAII,OAAO,IAAI,CAAChB,KAAK,CAACwB,QAAQ,CAA1B;KACF;CACF;IAEA,wCAAA,GAAe9B,mCAAa;;;ACxC5B;;;AAGA,MAAMC,2BAAK,GAAG,CAAC,YAAE6B,QAAAA,CAAAA,EAAU,GAAK;IAC9B,MAAMG,KAAK,GAAGF,CAAAA,GAAAA,mBAAM,CAAA,CAAC,IAAI,CAAC,AAA1B;IACA,IAAI,CAACE,KAAK,CAACC,OAAO,EAChBD,KAAK,CAACC,OAAO,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC,CAAC,CAAC,yEAA/CH;IAGFjF,CAAAA,GAAAA,sBAAS,CAAA,CAAC,IAAM;QACd,MAAMqF,SAAS,GAAGF,QAAQ,CAACG,cAAc,CAAC,OAAO,CAAC,AAAC,EAAC,4FAApD;QACAD,SAAS,CAACE,WAAW,CAACN,KAAK,CAACC,OAAO,CAAC,CAApCG;QAEA,OAAO,IAAMA,SAAS,CAACG,WAAW,CAACP,KAAK,CAACC,OAAO,CAAC,CAAC,CAAC,mEAAnD;KACD,EAAE,EAAE,CAAC,CAAN;IAEA,qBAAOF,CAAAA,GAAAA,4BAAY,CAAA,eAAC,gCAAC,KAAG;kBAAEF,QAAQ;MAAO,EAAEG,KAAK,CAACC,OAAO,CAAC,CAAzD;CACD,AAAD;IAEA,wCAAA,GAAejC,2BAAK;;;;A,S,qC,C,G,E,G,E,K,E;I,I,G,I,G,E,M,C,c,C,G,E,G,E;Q,K,E,K;Q,U,E,I;Q,Y,E,I;Q,Q,E,I;K,C,C;S,G,C,G,C,G,K,C;I,O,G,C;C;AHZpB,MAAMrD,6BAAO,SAASiD,CAAAA,GAAAA,sBAAS,CAAA;IAAC,YAAA,GAAA,IAAA,CAAA;QAAA,KAAA,IAAA,IAAA,CAAA,CAAA;QAAA,qCAAA,CAAA,IAAA,EAAA,OAAA,EAOtB;YAAEK,OAAO,EAAE,IAAI;YAAEC,SAAS,EAAE,KAAXA;SAAkB,CAAD,CAAA;QAAC,qCAAA,CAAA,IAAA,EAAA,aAAA,EAW7B,IAAM,IAAI,CAACC,QAAQ,CAAC;gBAAED,SAAS,EAAE,CAAC,IAAI,CAACT,KAAK,CAACS,SAAvBA;aAAkC,CAAC,CAAF,CAAA;KAAE;IATvE,MAAME,iBAAiB,GAAG;QACxB,MAAMrC,GAAG,GAAG,MAAMC,KAAK,CACpB,CAAA,oCAAA,EAAsC,IAAI,CAACqC,KAAK,CAACC,MAAM,CAAChB,EAAG,CAAA,CAAC,CAC9D,AAFD;QAGA,MAAMrB,IAAI,GAAG,MAAMF,GAAG,CAACE,IAAI,EAAE,AAA7B;QAEA,IAAI,CAACkC,QAAQ,CAACpB,MAAM,CAACwB,MAAM,CAAC;YAAEN,OAAO,EAAE,KAATA;SAAgB,EAAEhC,IAAI,CAACL,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,kDAAnB;KAC/C;IAEyE,6FAAA;IAEzE4C,MAAM,GAAG;QACP,IAAI,IAAI,CAACf,KAAK,CAACQ,OAAO,EACpB,qBAAO,gCAAC,IAAE;sBAAC,aAAW;UAAK,CAA3B;QAGF,uCAAA;QAEA,MAAM,UAAE3C,MAAM,CAAA,SAAEE,KAAK,CAAA,QAAEgC,IAAI,CAAA,SAAEC,KAAK,CAAA,eAAEgB,WAAW,CAAA,QAAEpB,IAAI,CAAA,UAAEE,MAAM,CAAA,aAAEW,SAAAA,CAAAA,EAAW,GACxE,IAAI,CAACT,KAAK,AAD6D;QAGzE,qBACE,iCAAC,KAAG;YAAC,OAAO,EAAGvB,CAAAA,CAAC,GAAKwC,OAAO,CAACC,GAAG,CAACzC,CAAC,CAAC;YAAE,SAAS,EAAC,SAAS;;8BACtD,gCAAC,CAAA,GAAA,wCAAQ,CAAA;oBAAC,MAAM,EAAEqB,MAAM;kBAAI;8BAC5B,iCAAC,KAAG;;sCACF,gCAAC,IAAE;sCAAEF,IAAI;0BAAM;sCACf,iCAAC,IAAE;;gCACA/B,MAAM;gCAAC,KAAG;gCAACE,KAAK;gCAAC,KAAG;gCAACgC,IAAI;gCAAC,IAAE;gCAACC,KAAK;;0BAChC;sCAEL,gCAAC,CAAA,GAAA,wCAAY,CAAA,CAAC,QAAQ;sCACnB,CAAC,CAAC3C,KAAK,CAAC,iBACP,iCAAC,QAAM;oCACL,OAAO,EAAE,IAAI,CAAC8D,WAAW;oCACzB,KAAK,EAAE;wCAAEpC,eAAe,EAAE1B,KAAjB0B;qCAAwB;;wCAClC,QACO;wCAACa,IAAI;;kCAEd;0BACqB;sCAIxB,gCAAC,GAAC;sCAAEoB,WAAW;0BAAK;wBACnBP,SAAS,iBACR,gCAAC,CAAA,GAAA,wCAAK,CAAA;sCACJ,cAAA,iCAAC,KAAG;;kDACF,iCAAC,IAAE;;4CAAC,+BAA6B;4CAACb,IAAI;4CAAC,GAAC;;sCAAK;kDAC7C,iCAAC,KAAG;wCAAC,SAAS,EAAC,SAAS;;0DACtB,gCAAC,GAAC;gDAAC,IAAI,EAAC,0BAA0B;0DAAC,KAAG;8CAAI;0DAC1C,gCAAC,QAAM;gDAAC,OAAO,EAAE,IAAI,CAACuB,WAAW;0DAAE,IAAE;8CAAS;;sCAC1C;;8BACF;0BACA,GACN,IAAI;;kBACJ;;UACF,CAAZ;KAEE;CACF;AAEA,kLAAA;AAEA,MAAMC,oCAAc,GAAG,IAAM;IAC3B,MAAMP,MAAM,GAAGT,CAAAA,GAAAA,+BAAS,CAAA,EAAE,AAA1B;IACA,0EAAA;IACA,qBACE,gCAAC,CAAA,GAAA,wCAAa,CAAA;kBACZ,cAAA,gCAAC,6BAAO;YAAC,MAAM,EAAES,MAAM;UAAI;MACb,CAApB;CAEC,AAAD;IAEA,wCAAA,GAAeO,oCAAc;;;;ANnF7B,MAAMhE,yBAAG,GAAG,IAAM;IAChB,MAAMC,KAAK,GAAGN,CAAAA,GAAAA,qBAAQ,CAAA,CAAC,UAAU,CAAC,AAAlC;IAEA,qBACE,gCAAC,CAAA,GAAA,uBAAU,CAAA;kBACT,cAAA,iCAAC,CAAA,GAAA,wCAAY,CAAA,CAAC,QAAQ;YAAC,KAAK,EAAEM,KAAK;;8BACjC,gCAAC,QAAM;8BACL,cAAA,gCAAC,CAAA,GAAA,0BAAI,CAAA;wBAAC,EAAE,EAAC,GAAG;kCAAC,WAAS;sBAAO;kBACtB;8BACT,iCAAC,CAAA,GAAA,4BAAM,CAAA;;sCACL,gCAAC,CAAA,GAAA,2BAAK,CAAA;4BAAC,IAAI,EAAC,cAAc;4BAAC,OAAO,gBAAE,gCAAC,CAAA,GAAA,wCAAO,CAAA,KAAG;0BAAU;sCACzD,gCAAC,CAAA,GAAA,2BAAK,CAAA;4BAAC,IAAI,EAAC,GAAG;4BAAC,OAAO,gBAAE,gCAAC,CAAA,GAAA,wCAAY,CAAA,KAAG;0BAAU;;kBAC5C;;UACa;MACb,CAAjB;CAEC,AAAD;IAEA,sBAAA;AACA,4CAAA;AACA,kDAAA;AACA,iCAAA;AACA,sBAAA;AACA,uBAAA;AACA,2BAAA;AACA,UAAA;AACA,iCAAA;AACA,wBAAA;AACA,wBAAA;AACA,4BAAA;AACA,UAAA;AACA,iCAAA;AACA,uBAAA;AACA,uBAAA;AACA,sBAAA;AACA,UAAA;AACA,QAAA;AACA,KAAA;AAEA,wCAAA,GAAeD,yBAAG;;;ADvClB,MAAM,0BAAI,GAAG,OAAO,CAAC,GAAG,CAAC,IAAI,IAAI,IAAI,AAAC;AAEtC,MAAM,0BAAI,GAAG,CAAA,GAAA,mCAAE,CAAA,CAAC,YAAY,CAAC,0BAA0B,CAAC,CAAC,QAAQ,EAAE,AAAC;AAEpE,MAAM,2BAAK,GAAG,0BAAI,CAAC,KAAK,CAAC,cAAc,CAAC,AAAC,EAAC,iFAAiF;AAE3H,MAAM,yBAAG,GAAG,CAAA,GAAA,wCAAO,CAAA,EAAE,AAAC;AAEtB,yBAAG,CAAC,GAAG,CAAC,WAAW,EAAE,CAAA,GAAA,wCAAO,CAAA,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC,CAAC;AACtD,yBAAG,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,GAAG,GAAK;IACpB,MAAM,WAAW,iBACf,gCAAC,CAAA,GAAA,wCAAY,CAAA;QAAC,QAAQ,EAAE,GAAG,CAAC,GAAG;kBAC7B,cAAA,gCAAC,CAAA,GAAA,wCAAG,CAAA,KAAG;MACM,AAChB,AAAC;IAEF,GAAG,CAAC,IAAI,CAAC,2BAAK,CAAC,CAAC,CAAC,GAAG,CAAA,GAAA,oCAAc,CAAA,CAAC,WAAW,CAAC,GAAG,2BAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,uBAAuB;IACpF,GAAG,CAAC,GAAG,EAAE,CAAC;CACX,CAAC,CAAC;AAEH,yBAAG,CAAC,MAAM,CAAC,0BAAI,EAAE,IAAM,OAAO,CAAC,GAAG,CAAC,CAAC,8BAA8B,EAAE,0BAAI,CAAC,CAAC,CAAC,CAAC,CAAC","sources":["server/index.js","src/App.js","src/SearchParams.js","src/useBreedList.js","src/Results.js","src/Pet.js","src/ThemeContext.js","src/Details.js","src/Carousel.js","src/ErrorBoundary.js","src/Modal.js"],"sourcesContent":["import express from \"express\";\r\nimport { renderToString } from \"react-dom/server\";\r\nimport { StaticRouter } from \"react-router-dom/server\";\r\nimport fs from \"fs\"; //file-system module\r\nimport App from \"../src/App\";\r\n\r\nconst PORT = process.env.PORT || 3000;\r\n\r\nconst html = fs.readFileSync(\"dist/frontend/index.html\").toString();\r\n\r\nconst parts = html.split(\"not rendered\"); //splits the html file from line 1-14, and line 15-18 (includes </div> on line 14\r\n\r\nconst app = express();\r\n\r\napp.use(\"/frontend\", express.static(\"dist/frontend\"));\r\napp.use((req, res) => {\r\n  const reactMarkup = (\r\n    <StaticRouter location={req.url}>\r\n      <App />\r\n    </StaticRouter>\r\n  );\r\n\r\n  res.send(parts[0] + renderToString(reactMarkup) + parts[1]); //server side rendering\r\n  res.end();\r\n});\r\n\r\napp.listen(PORT, () => console.log(`Listening on http://localhost:${PORT}`));\r\n","import { Routes, Route, Link } from \"react-router-dom\";\r\nimport { useState, StrictMode } from \"react\";\r\nimport SearchParams from \"./SearchParams\";\r\nimport Details from \"./Details\";\r\nimport ThemeContext from \"./ThemeContext\";\r\n\r\nconst App = () => {\r\n  const theme = useState(\"darkblue\");\r\n\r\n  return (\r\n    <StrictMode>\r\n      <ThemeContext.Provider value={theme}>\r\n        <header>\r\n          <Link to=\"/\">Adopt Me!</Link>\r\n        </header>\r\n        <Routes>\r\n          <Route path=\"/details/:id\" element={<Details />}></Route>\r\n          <Route path=\"/\" element={<SearchParams />}></Route>\r\n        </Routes>\r\n      </ThemeContext.Provider>\r\n    </StrictMode>\r\n  );\r\n};\r\n\r\n// const App = () => {\r\n//   return React.createElement(\"div\", {}, [\r\n//     React.createElement(\"h1\", {}, \"Adopt Me!\"),\r\n//     React.createElement(Pet, {\r\n//       name: \"Luna\",\r\n//       animal: \"Dog\",\r\n//       breed: \"Havanese\",\r\n//     }),\r\n//     React.createElement(Pet, {\r\n//       name: \"Pepper\",\r\n//       animal: \"Bird\",\r\n//       breed: \"Cockatiel\",\r\n//     }),\r\n//     React.createElement(Pet, {\r\n//       name: \"Doink\",\r\n//       animal: \"Cat\",\r\n//       breed: \"Mix\",\r\n//     }),\r\n//   ]);\r\n// };\r\n\r\nexport default App;\r\n","import { useState, useEffect, useContext } from \"react\";\r\nimport useBreedList from \"./useBreedList\";\r\nimport Results from \"./Results\";\r\nimport ThemeContext from \"./ThemeContext\";\r\n\r\nconst ANIMALS = [\"bird\", \"cat\", \"dog\", \"rabbit\", \"reptile\"];\r\n\r\nconst SearchParams = () => {\r\n  const [location, setLocation] = useState(\"\");\r\n  const [animal, setAnimal] = useState(\"\");\r\n  const [breed, setBreed] = useState(\"\");\r\n  const [breeds] = useBreedList(animal); // Now you should have breeds being populated every time you change animal!\r\n  const [theme, setTheme] = useContext(ThemeContext);\r\n\r\n  const [pets, setPets] = useState([]);\r\n\r\n  useEffect(() => {\r\n    requestPets();\r\n  }, []); //eslint-disable-line react-hooks/exhaustive-deps\r\n\r\n  // [] call this effect again when something happens, [] is either empty or includes dependencies\r\n\r\n  async function requestPets() {\r\n    const res = await fetch(\r\n      `http://pets-v2.dev-apis.com/pets?animal=${animal}&location=${location}&breed=${breed}`\r\n    );\r\n    const json = await res.json();\r\n    setPets(json.pets);\r\n  }\r\n\r\n  return (\r\n    <div className=\"search-params\">\r\n      <form\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          requestPets();\r\n        }}\r\n      >\r\n        <label htmlFor=\"location\">\r\n          Location\r\n          <input\r\n            id=\"location\"\r\n            value={location}\r\n            placeholder=\"Location\"\r\n            onChange={(e) => setLocation(e.target.value)}\r\n          />\r\n        </label>\r\n        <label htmlFor=\"animal\">\r\n          Animal\r\n          <select\r\n            id=\"animal\"\r\n            value={animal}\r\n            onChange={(e) => {\r\n              setAnimal(e.target.value);\r\n              setBreed(\"\");\r\n            }}\r\n            onBlur={(e) => {\r\n              setAnimal(e.target.value);\r\n              setBreed(\"\");\r\n            }}\r\n          >\r\n            <options />\r\n            {ANIMALS.map((animal) => (\r\n              <option key={animal} value={animal}>\r\n                {animal}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </label>\r\n\r\n        <label htmlFor=\"breed\">\r\n          Breed\r\n          <select\r\n            id=\"breed\"\r\n            value={breed}\r\n            onChange={(e) => {\r\n              setBreed(e.target.value);\r\n            }}\r\n            onBlur={(e) => {\r\n              setBreed(e.target.value);\r\n            }}\r\n          >\r\n            <options />\r\n            {breeds.map((allBreed) => (\r\n              <option key={allBreed} value={allBreed}>\r\n                {allBreed}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </label>\r\n        <label htmlFor=\"theme\">\r\n          Theme\r\n          <select\r\n            value={theme}\r\n            onChange={(e) => setTheme(e.target.value)}\r\n            onBlur={(e) => setTheme(e.target.value)}\r\n          >\r\n            <option value=\"peru\">Peru</option>\r\n            <option value=\"darkblue\">DarkBlue</option>\r\n            <option value=\"red\">Red</option>\r\n            <option value=\"orange\">Orange</option>\r\n          </select>\r\n        </label>\r\n        <button style={{ backgroundColor: theme }}>Submit</button>\r\n      </form>\r\n      {/* passing down props to results.js */}\r\n      <Results pets={pets} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchParams;\r\n","//building a custom hook\r\nimport { useState, useEffect, useDebugValue } from \"react\";\r\n\r\nconst localCache = {};\r\n\r\nexport default function useBreedList(animal) {\r\n  const [breedList, setBreedList] = useState([]);\r\n  const [status, setStatus] = useState(\"unloaded\");\r\n\r\n  useDebugValue(\"number of values in cache:\" + Object.keys(localCache).length);\r\n\r\n  useEffect(() => {\r\n    if (!animal) {\r\n      setBreedList([]);\r\n    } else if (localCache[animal]) {\r\n      setBreedList(localCache[animal]);\r\n    } else {\r\n      requestBreedList();\r\n    }\r\n\r\n    async function requestBreedList() {\r\n      setBreedList([]);\r\n      setStatus(\"loading\");\r\n\r\n      const res = await fetch(\r\n        `http://pets-v2.dev-apis.com/breeds?animal=${animal}`\r\n      );\r\n      const json = await res.json();\r\n      localCache[animal] = json.breeds || [];\r\n      setBreedList(localCache[animal]);\r\n      setStatus(\"loaded\");\r\n    }\r\n  }, [animal]); //any change to animal, useEffect runs again\r\n\r\n  return [breedList, status];\r\n}\r\n","import Pet from \"./Pet\";\r\n\r\nconst Results = ({ pets }) => {\r\n  return (\r\n    <div>\r\n      {!pets.length ? (\r\n        <h1>No pets found</h1>\r\n      ) : (\r\n        pets.map((pet) => (\r\n          <Pet\r\n            name={pet.name}\r\n            animal={pet.animal}\r\n            breed={pet.breed}\r\n            key={pet.id}\r\n            images={pet.images}\r\n            location={`${pet.city}, ${pet.state}`}\r\n            id={pet.id}\r\n          />\r\n        ))\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Results;\r\n","import { Link } from \"react-router-dom\";\r\n\r\nconst Pet = ({ name, animal, breed, images, location, id }) => {\r\n  let hero = \"http://pet-images.dev-apis.com/pets/none.jpg\";\r\n\r\n  if (images.length) {\r\n    hero = images[0];\r\n  }\r\n\r\n  return (\r\n    <Link to={`/details/${id}`} className=\"pet\">\r\n      <div className=\"image-container\">\r\n        <img src={hero} alt={name} />\r\n      </div>\r\n\r\n      <div className=\"info\">\r\n        <h1>{name}</h1>\r\n        <h2>\r\n          {animal} - {breed} - {location}\r\n        </h2>\r\n      </div>\r\n    </Link>\r\n  );\r\n};\r\n\r\n// const Pet = (props) => {\r\n//   return React.createElement(\"div\", {}, [\r\n//     React.createElement(\"h1\", {}, props.name),\r\n//     React.createElement(\"h2\", {}, props.animal),\r\n//     React.createElement(\"h2\", {}, props.breed),\r\n//   ]);\r\n// };\r\n\r\nexport default Pet;\r\n","//managing state using 'context'\r\nimport { createContext } from \"react\";\r\n\r\n// using 'context', we want to mic -- const [theme, setTheme]  = useState('darkblue') --\r\n\r\nconst ThemeContext = createContext([\"green\", () => {}]);\r\n\r\nexport default ThemeContext;\r\n","import { Component } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Carousel from \"./Carousel\";\r\nimport ErrorBoundary from \"./ErrorBoundary\";\r\nimport Modal from \"./Modal\";\r\nimport ThemeContext from \"./ThemeContext\";\r\n\r\nclass Details extends Component {\r\n  // constructor(props) {\r\n  //   super(props);\r\n\r\n  //   this.state = { loading: true };\r\n  // }\r\n\r\n  state = { loading: true, showModal: false };\r\n\r\n  async componentDidMount() {\r\n    const res = await fetch(\r\n      `http://pets-v2.dev-apis.com/pets?id=${this.props.params.id}`\r\n    );\r\n    const json = await res.json();\r\n\r\n    this.setState(Object.assign({ loading: false }, json.pets[0])); //can use ...json.pets[0] instead of Object.assign\r\n  }\r\n\r\n  toggleModal = () => this.setState({ showModal: !this.state.showModal }); //https://reactjs.org/docs/react-component.html#setstate    //toggles the showModal to 'true'\r\n\r\n  render() {\r\n    if (this.state.loading) {\r\n      return <h2>loading ...</h2>;\r\n    }\r\n\r\n    // throw new Error(\"lmao you crashed\");\r\n\r\n    const { animal, breed, city, state, description, name, images, showModal } =\r\n      this.state;\r\n\r\n    return (\r\n      <div onClick={(e) => console.log(e)} className=\"details\">\r\n        <Carousel images={images} />\r\n        <div>\r\n          <h1>{name}</h1>\r\n          <h2>\r\n            {animal} - {breed} - {city}, {state}\r\n          </h2>\r\n          {/* reading out context in class component without using Wrapper- 2nd method*/}\r\n          <ThemeContext.Consumer>\r\n            {([theme]) => (\r\n              <button\r\n                onClick={this.toggleModal}\r\n                style={{ backgroundColor: theme }}\r\n              >\r\n                Adopt {name}\r\n              </button>\r\n            )}\r\n          </ThemeContext.Consumer>\r\n          {/* <button style={{ backgroundColor: this.props.theme }}>\r\n            Adopt {name}\r\n          </button> */}\r\n          <p>{description}</p>\r\n          {showModal ? (\r\n            <Modal>\r\n              <div>\r\n                <h1>Would you like to adopt name {name}?</h1>\r\n                <div className=\"buttons\">\r\n                  <a href=\"https://bit.ly/pet-adopt\">Yes</a>\r\n                  <button onClick={this.toggleModal}>No</button>\r\n                </div>\r\n              </div>\r\n            </Modal>\r\n          ) : null}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n//to access the API route, we need the 'id' params from the route which is from react-router, so we use 'useParams' to get the 'id', since we cant use 'hooks' in class components\r\n\r\nconst WrappedDetails = () => {\r\n  const params = useParams();\r\n  // const [theme] = useContext(ThemeContext), pass 'theme' props in details\r\n  return (\r\n    <ErrorBoundary>\r\n      <Details params={params} />\r\n    </ErrorBoundary>\r\n  );\r\n};\r\n\r\nexport default WrappedDetails;\r\n","import { Component } from \"react\";\r\n\r\nclass Carousel extends Component {\r\n  state = {\r\n    active: 0, //show the first photo\r\n  };\r\n\r\n  static defaultProps = {\r\n    images: [\"http://pets-images.dev-apis.com/pets/none.jpg\"],\r\n  };\r\n\r\n  handleIndexClick = (event) => {\r\n    this.setState({\r\n      active: +event.target.dataset.index, //+ converts string to the number\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { active } = this.state;\r\n    const { images } = this.props;\r\n\r\n    return (\r\n      <div className=\"carousel\">\r\n        <img src={images[active]} alt=\"animal\" />\r\n        <div className=\"carousel-smaller\">\r\n          {images.map((photo, index) => (\r\n            //eslint-disable-next-line\r\n            <img\r\n              onClick={this.handleIndexClick}\r\n              key={photo}\r\n              src={photo}\r\n              data-index={index}\r\n              className={index === active ? \"active\" : \"\"}\r\n              alt=\"animal thumbnail\"\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Carousel;\r\n","import { Component } from \"react\";\r\nimport { Link, Navigate } from \"react-router-dom\";\r\n\r\n//Error Boundary has to be done using class component only\r\n\r\nclass ErrorBoundary extends Component {\r\n  state = { hasError: false, redirect: false };\r\n\r\n  static getDerivedStateFromError() {\r\n    return { hasError: true };\r\n  }\r\n\r\n  componentDidCatch(error, info) {\r\n    console.error(error, info);\r\n  }\r\n\r\n  //equivalent to useEffect in function components\r\n  componentDidUpdate() {\r\n    if (this.state.hasError) {\r\n      setTimeout(() => this.setState({ redirect: true }), 5000);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (this.state.redirect) {\r\n      return <Navigate to=\"/\" />;\r\n    } else if (this.state.hasError) {\r\n      return (\r\n        <h2>\r\n          There was an error.\r\n          <Link to=\"/\">Click here</Link> to go back to the homepage. Or wait\r\n          five seconds and we will do it for you.\r\n        </h2>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary;\r\n","import { useEffect, useRef } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nconst Modal = ({ children }) => {\r\n  const elRef = useRef(null);\r\n  if (!elRef.current) {\r\n    elRef.current = document.createElement(\"div\"); //elRef can onyl modify current, can only in the context of elRef.current\r\n  }\r\n\r\n  useEffect(() => {\r\n    const modalRoot = document.getElementById(\"modal\"); //creating a place for the modal to render, which is later destroyed (created in index.html)\r\n    modalRoot.appendChild(elRef.current);\r\n\r\n    return () => modalRoot.removeChild(elRef.current); //have to remove the DOM element, otherwise it'll keep re-rendering\r\n  }, []);\r\n\r\n  return createPortal(<div>{children}</div>, elRef.current);\r\n};\r\n\r\nexport default Modal;\r\n"],"names":["Routes","Route","Link","useState","StrictMode","SearchParams","Details","ThemeContext","App","theme","useEffect","useContext","useBreedList","Results","ANIMALS","location","setLocation","animal","setAnimal","breed","setBreed","breeds","setTheme","pets","setPets","requestPets","res","fetch","json","e","preventDefault","target","value","map","allBreed","backgroundColor","useDebugValue","localCache","breedList","setBreedList","status","setStatus","Object","keys","length","requestBreedList","Pet","pet","name","id","images","city","state","hero","createContext","Component","useParams","Carousel","ErrorBoundary","Modal","loading","showModal","setState","componentDidMount","props","params","assign","render","description","console","log","toggleModal","WrappedDetails","active","event","dataset","index","photo","handleIndexClick","Navigate","hasError","redirect","getDerivedStateFromError","componentDidCatch","error","info","componentDidUpdate","setTimeout","children","useRef","createPortal","elRef","current","document","createElement","modalRoot","getElementById","appendChild","removeChild"],"version":3,"file":"index.js.map","sourceRoot":"../../"}